"use strict";(self.webpackChunkmostaza_documentation=self.webpackChunkmostaza_documentation||[]).push([[6401],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return m}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=a.createContext({}),c=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},s=function(e){var n=c(e.components);return a.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=c(t),m=r,g=d["".concat(p,".").concat(m)]||d[m]||u[m]||i;return t?a.createElement(g,o(o({ref:n},s),{},{components:t})):a.createElement(g,o({ref:n},s))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=d;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=t[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},1701:function(e,n,t){t.r(n),t.d(n,{assets:function(){return s},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var a=t(7462),r=t(3366),i=(t(7294),t(3905)),o=["components"],l={sidebar_position:2},p="Creazione di endpoint custom",c={unversionedId:"strapi/custom-endpoint",id:"strapi/custom-endpoint",title:"Creazione di endpoint custom",description:"Se gli endpoint generati automaticamente da Strapi non bastano o si hanno bisogno di funzionalit\xe0 particolari,",source:"@site/docs/strapi/custom-endpoint.md",sourceDirName:"strapi",slug:"/strapi/custom-endpoint",permalink:"/docs/strapi/custom-endpoint",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/strapi/custom-endpoint.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"defaultSidebar",previous:{title:"Introduzione e installazione",permalink:"/docs/strapi/intro"},next:{title:"Integrazione con il Mostaza Mail Sender Client",permalink:"/docs/strapi/mostaza-email-service"}},s={},u=[],d={toc:u};function m(e){var n=e.components,t=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"creazione-di-endpoint-custom"},"Creazione di endpoint custom"),(0,i.kt)("p",null,"Se gli endpoint generati automaticamente da Strapi non bastano o si hanno bisogno di funzionalit\xe0 particolari,\n\xe8 possibile crearne di nuovi e con comportamenti completamente gestiti via codice."),(0,i.kt)("p",null,"Questa miniguida deriva da ",(0,i.kt)("a",{parentName:"p",href:"https://docs.strapi.io/developer-docs/latest/development/backend-customization/controllers.html#adding-a-new-controller"},"questa pagina")," della documentazione ufficiale."),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Andare nella cartella ",(0,i.kt)("inlineCode",{parentName:"p"},"api/{entit\xe0_alla_quale_aggiungere_endpoint}/routes"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Creare un file con nome ed estensione ",(0,i.kt)("inlineCode",{parentName:"p"},"custom-{entit\xe0_alla_quale_aggiungere_endpoint}.js")," (questo sar\xe0 il file che elencher\xe0 le rotte che si stanno aggiungendo).")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Aggiungere le rotte necessarie seguendo la seguente struttura:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = {\n  routes: [\n    {\n      method: "GET",\n      path: "/{entit\xe0_alla_quale_aggiungere_endpoint}s/getSomething",\n      handler: "{entit\xe0_alla_quale_aggiungere_endpoint}.handlerFunction1",\n    },\n    {\n      method: "GET",\n      path: "/{entit\xe0_alla_quale_aggiungere_endpoint}s/:id/getSomething",\n      handler: "{entit\xe0_alla_quale_aggiungere_endpoint}.handlerFunction2",\n    },\n  ],\n};\n')),(0,i.kt)("p",{parentName:"li"},"Le ",(0,i.kt)("strong",{parentName:"p"},"Handler Function")," sono le funzioni che si occuperanno di rispondere alle richieste.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Aprire il file ",(0,i.kt)("inlineCode",{parentName:"p"},"api/{entit\xe0_alla_quale_aggiungere_endpoint}/controllers/{entit\xe0_alla_quale_aggiungere_endpoint}.js"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Modificare"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'module.exports = createCoreController(\n  "api::{endpoint_to_edit}.{endpoint_to_edit}"\n);\n')),(0,i.kt)("p",{parentName:"li"},"in"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"module.exports = createCoreController('api::{endpoint_to_edit}.{endpoint_to_edit}', ({ strapi }) => ({\n     async handlerFunction1(ctx) {\n     },\n     async handlerFunction2(ctx) {\n     }\n })}\n")),(0,i.kt)("p",{parentName:"li"},"Notare che ",(0,i.kt)("strong",{parentName:"p"},"handlerFunction1"),", ",(0,i.kt)("strong",{parentName:"p"},"handlerFunction2")," sono le funzioni specificate nel file contenente le rotte."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Nota"),": in questo controller \xe8 possibile modificare anche il comportamento degli endpoint generati da Strapi.\nPer farlo basta dichiarare funzioni come ",(0,i.kt)("inlineCode",{parentName:"p"},"create"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"find"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"findOne"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"update")," o ",(0,i.kt)("inlineCode",{parentName:"p"},"delete"),"."))))}m.isMDXComponent=!0}}]);